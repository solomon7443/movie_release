<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>영화 개봉 일정</title>
		<style>
			a:link, a:visited {
				color: black;
				cursor: auto;
			}

			a:link:active, a:visited:active {
				text-decoration: underline;
			}
		</style>
	</head>
	<body>
		<table class="movie_table">
			<thead>
				<tr>
					<th></th>
					<th>제목</th>
					<th>날짜</th>
					<th>감독</th>
				</tr>
			</thead>
			<tbody>
			</tbody>
		</table>
		<script>
			function loadFile(filePath) {
				var result = null;
				var xmlhttp = new XMLHttpRequest();
				xmlhttp.open("GET", filePath, false);
				xmlhttp.send();
				if (xmlhttp.status==200) {
				result = xmlhttp.responseText;
				}
				return result;
			}
			
			var table = document.querySelector("table.movie_table");
			var tbody = table.children[1];
			
			var Req = loadFile('./movie.txt'+ '?' + (new Date()).getTime());;
			Req = Req.split('\n')
			Req.forEach(function(Pair){
				var tr = document.createElement("tr");
				var sets = Pair.split('\t');
				
				var td = document.createElement("td");
				var img = document.createElement("img");
				img.src = "./logo/"+sets[0];
				td.appendChild(img);
				td.style.cssText = "text-align:right"; 
				tr.appendChild(td);
				
				var td = document.createElement("td");
				var a = document.createElement("a");
				a.href = sets[4]
				a.innerText = sets[1];
				td.appendChild(a);
				tr.appendChild(td);
				
				var td = document.createElement("td");
				td.innerText = sets[2];
				tr.appendChild(td);
				
				var td = document.createElement("td");
				td.innerText = sets[3];
				td.style.cssText = "text-align:right"; 
				tr.appendChild(td);
				
				tbody.appendChild(tr);
			});
			
			
		</script>
	</body>
</html>
